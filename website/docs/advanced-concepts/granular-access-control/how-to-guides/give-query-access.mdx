---
description: >-
  Learn how to give query access and show widgets based on user permissions in Appsmith.
title: Give Query Access
hide_title: true
---

<!-- vale off -->

<div className="tag-wrapper">
 <h1>Give Query Access</h1>

<Tags
tags={[
{ name: "Business", link: "https://www.appsmith.com/pricing", additionalClass: "business" }
]}
/>

</div>

<!-- vale on -->


To ensure that users have appropriate access to data and functionalities, it's essential to manage query permissions in your Appsmith applications. This page shows how to give query access and dynamically show/hide widgets based on query permissions.

## Prerequisites

- A self-hosted Appsmith Commercial Edition installation. If not installed yet, see the [Installation Guides](/getting-started/setup/installation-guides).
- Enabled the Programmatic Access Control feature. For more information, see [Programmatic Access Control](/getting-started/setup/instance-configuration). 
- Access to edit roles and applications.

## Give query access and show widgets

To assign query execution permissions and control widget visibility:

1. Navigate to the Admin Settings by clicking the gear (⚙️) icon in the top right corner of your Appsmith Dashboard.
2. Under **Access Control** in the sidebar, select **Roles**.
3. Locate the desired role (Role1) from the list of existing roles.
4. Click on the role to edit its permissions.
5. In the _Application Resources_ tab, grant the **Execute** permission to the relevant query (Query1).
6. Click **Save changes** to apply the updated permissions.
7. In your application, define conditional rendering for widgets based on the roles allowed to execute the query. Use the `appsmith.user.roles` object to verify the role assignment.

   - **Example: Show Button Based on User Role**

      To display a button widget based on the user's role, set the **Visible** property in the button widget's property pane to the following JavaScript code:

      ```javascript
      // Replace <ROLE_NAME> with the role name
      {{appsmith.user.roles.includes('<ROLE_NAME>')}}
      ```
    For more information about roles object, see [appsmith.user.roles](/reference/appsmith-framework/context-object#roles-object).

## Troubleshooting

If you face any issues, reach out to the support team via the chat widget located at the bottom right of this page.

