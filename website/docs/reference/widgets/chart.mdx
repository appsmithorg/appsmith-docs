import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Chart

This document explains how to effectively use the Chart widget to visualize and represent data to create admin panels, dashboards, etc.


:::info
Appsmith is integrated with [**FusionCharts**](https://www.fusioncharts.com) and has acquired a **re-distribution license**. With this license, you can use FusionCharts on the Appsmith **cloud** and **on-premise** platform. The use of the license is permitted as long as what you are building on Appsmith isn't used to compete with FusionCharts.<br/>

Please be aware that the license **doesn't** include permission to use **Fusion Maps**. If you want to use this product, you may need to obtain a separate license.
:::

<VideoEmbed host="youtube" videoId="Rvlwb5123mE" title="How to use Chart Widget" caption="Configure Custom Chart"/>


## Display data

To display data in the Chart widget, you can use the `Series Data` property to provide the data in the following structure: 

```js
[
  {
    "x": "Product1",
    "y": 20000
  },..
]
```

In this format, **`x`** denotes the **label** and **`y`** denotes the **value**. It's important to provide a value when displaying data to ensure that the chart can render correctly. Please note that the JSON format provided is only suitable for basic charts

Appsmith offers several built-in charts to represent your data. With the `Chart Type` property, you can select one of the following types to visualize your data:
* Line Charts, 
* Bar Charts, 
* Pie Charts, 
* Column Charts, 
* Area Charts, and  
* [Custom Charts](#custom-charts)


### Display static data

To display static data, you can enter the desired data directly into the `Series Data property`, and it remains the same until manually updated or edited. This method is useful when you need to display fixed information, such as trends or comparisons, that don't change based on user interactions. 

```js
[
  {
    "x": "2021",
    "y": 200000
  },
  {
    "x": "2022",
    "y": 320000
  }
]
```

### Display data dynamically

You can display dynamic data by fetching it from APIs or databases. This can be done by using binding values to **Series Data property**. If you need to transform the incoming data to match this format, you can use **JSObject** to perform the transformation before binding it to the chart widget.

For example, lets say you have a PostgreSQL database containing information about assets in your organization, such as their types and the date they were purchased. You can create a query that groups the assets by type and counts how many there are of each type, like this:

```sql
select type as x, count (*) as y from asset group by type
```

This query returns data in the required JSON format, where `x` represents the asset type and `y` represents the count of assets of that type. Next, in the chart widget's **Series** property, add `{{assetquery.data}}` to bind the data returned by the query to the chart. This displays a dynamic chart that updates as the data in the database changes.

### Display multiple data columns

If you want to display multiple data columns on a chart, you can do so by using the **Add Series** property. This feature allows you to populate the chart with different sets of data and customize various aspects of its appearance, such as colors and labels, to create a visually appealing and informative chart.

For example, if you have data on the number of males and females who voted in each year of a political election, you can use the Chart Series property to display both sets of data on the same chart. This would allow you to compare the number of male and female voters over time.

Check this [sample app](https://app.appsmith.com/applications/620b668f6b4b1e154a3c2418/pages/620b8bc56b4b1e154a3c2688) to learn how to produce a dual-axis chart combining columns, lines, and areas.

## Perform actions based on data point selection

Performing actions based on data point selection refers to the ability to execute certain actions or operations when a user clicks on a specific data point in a chart widget. 

To achieve this, you can set up the **"onDataPointClick"** event to perform a designated action. For instance, you can use a Modal widget to show the details of the clicked data point using `{{Chart1.selectedDataPoint.x}}` or you can execute a query based on the user's selection.

## Custom charts

Appsmith offers integration with [FusionCharts](https://www.fusioncharts.com/dev/chart-guide/list-of-charts/) and provides a wide range of chart types that can be used to create custom charts. Once you have selected the Custom Chart type, you can configure the FusionCharts using the Custom Fusion Chart property.


:::info
FusionCharts provides an extensive range of chart variants, with almost 100+ options to choose from. To learn more about these charts, you can refer to the official [FusionCharts documentation](https://www.fusioncharts.com/dev/chart-guide/list-of-charts/) 
:::

To create a custom chart, you need to provide two keys in your configuration: type and datasource:


* **Type**

The type is used to define the chart type recognized by the FusionCharts. You can[ get a list of all the supported types available](https://www.fusioncharts.com/dev/chart-guide/list-of-charts) on FusionCharts.

* **Datasource**

The datasource defines the customization options and the data points to create a chart. It includes two attributes: **chart** and **data**.

The chart object can customize the chart and includes options like caption, xAxisName, and yAxisName. On the other hand, the data attribute represents the data in an array format with key-value pairs like `[{“label”: “string value”, “value”: “string value”}]`.

Below is an example of a configuration for the Custom Fusion Chart property:

```
{
  "type": "",
  "dataSource": {
    "chart": {},
    "data": []
  }
}
```

### Custom charts examples
Here are some examples of custom charts that you can use as a reference to create your own customized charts.


<Tabs>
  <TabItem value="2D" label="2D column chart " default>

Suppose you want to create a custom FusionChart to display monthly revenue data for Harry's SuperMart. You can use a two-dimensional column chart for this purpose.

You can either embed the configuration directly or use a query to retrieve the required configuration. To plot a column chart in a 2-dimensional, you can use the configuration as below:

```
{
  "type": "column2d",
  "dataSource": {
    "chart": {
      "caption": "Monthly Revenue for the year 2021",
      "xAxisName": "Month",
      "yAxisName": "Revenue",
      "theme": "fusion"
    },
    "data": [
      {
        "label": "Jan",
        "value": 42000
      },
      {
        "label": "Feb",
        "value": 810000
      },
      {
        "label": "Mar",
        "value": 72000
      },
      {
        "label": "Apr",
        "value": 55000
      },
      {
        "label": "May",
        "value": 91000
      }
    ]
  }
}
```

In the preceding code snippet, you’ll see that you plotted a column chart to showcase the monthly revenue pattern for last year, say - 2021.

 If you have several sister companies operating under the same business name and you want to display the monthly revenue chart specifically for Harry's SuperMart, you can use the `subCaption` property to specify the name of the company.

```
 “subCaption”: "Harry's SuperMart"
```


To format the revenue values on the chart, you can choose a series (`y-axis`) to show `$` as a prefix. You can use `numberPrefix` and add the dollar($) sign.

```
 “numberPrefix": "$"
```



You have a monthly target revenue of say $70,000 and would want to plot it in the chart. You can use `trendlines` to add this detail to your chart.

```
"trendlines": [
    {
      "line": [
        {
          "startValue": "700000",
          "valueOnRight": "1",
          "displayvalue": "Monthly Target"
        }
      ]
    }
  ]
```


`trendlines` are vertical or horizontal lines that help users understand the emphasized data point. For example, a monthly target.




  </TabItem>

  <TabItem value="p3" label=" Pareto 3D chart" default>
  

Pareto chart is a type of bar graph that display the frequency of change with bars following a pattern from longest on the left to shortest on the right. To visualize data, a Pareto 3D chart can be used which combines a line chart and a column chart.


<figure>
  <img src="/img/pareto-3d.png" style= {{width:"700px", height:"auto"}} alt="Admin Settings option is available in the left sidebar"/>
  <figcaption align = "center"><i></i></figcaption>
</figure>


To display a Pareto 3D chart for "Harry's SuperMart" example, modify the type value in the configuration to `pareto3d`:

```json
{
  "type": "pareto3d",
  "dataSource": {
    "chart": {
      "caption": "Monthly Revenue for the year 2021",
      "xAxisName": "Month",
      "yAxisName": ..
```

You can add the below code snippet to have a customized tooltip.

```
"plottooltext": "$label accounted for &lt;b>$datavalue&lt;/b> revenue"
```

  </TabItem>
  <TabItem value="p4" label="Pie 3D chart">


Pie chart is a type of data visualization that represents numerical data in a circular graph, where the size of each "slice" of the pie corresponds to the proportion of data it represents.

<figure>
  <img src="/img/pie3d.png" style= {{width:"700px", height:"auto"}} alt="Admin Settings option is available in the left sidebar"/>
  <figcaption align = "center"><i></i></figcaption>
</figure>


To display a Pie 3D chart for "Harry's SuperMart" example, modify the type value in the configuration to `pie3d`:


```
{
  "type": "pie3d",
  "dataSource": {
    "chart": {
      "caption": "Monthly Revenue for the year 2021",
      "xAxisName": "Month",
      "yAxisName": "Revenue",
      "theme": "fusion"
    },..
```

For a sliced view, you can use a property `enablemultislicing`:

```
"enablemultislicing": "1"
```
  </TabItem>
  <TabItem value="s3d" label="Stacked Column 3D Chart">

A stacked column chart is a type of data visualization that allows for the comparison of parts of a whole over time or across different sets of data.

<figure>
  <img src="/img/3d-chart.png" style= {{width:"700px", height:"auto"}} alt="Admin Settings option is available in the left sidebar"/>
  <figcaption align = "center"><i></i></figcaption>
</figure>


For example, here the chart is designed to show the number of reported deaths due to insect bites in India, broken down by the type of infection (`Hymenopter` or `Diptera`) and by year (`1994-1997`).

```
{
  "type": "stackedcolumn3d",
  "dataSource": {
    "chart": {
      "caption": "Deaths reported because of insect bites in India",
      "yaxisname": "Number of deaths reported",
      "subcaption": "(As per government records)",
      "plottooltext": "&lt;b>$dataValue&lt;/b> people died because of $seriesName in $label",
      "showsum": "0",
      "theme": "fusion"
    },
    "categories": [
      {
        "category": [
          {
            "label": "1994"
          },
          {
            "label": "1995"
          },
          {
            "label": "1996"
          },
          {
            "label": "1997"
          }
        ]
      }
    ],
    "dataset": [
      {
        "seriesname": "Hymenoptera",
        "data": [
          {
            "value": "15622"
          },
          {
            "value": "10612"
          },
          {
            "value": "15820"
          },
          {
            "value": "26723"
          }
        ]
      },
      {
        "seriesname": "Diptera",
        "data": [
          {
            "value": "3622"
          },
          {
            "value": "2612"
          },
          {
            "value": "5820"
          },
          {
            "value": "6723"
          }
        ]
      }
    ]
  }
}
```

  </TabItem>
</Tabs>




## Properties

Properties allow you to edit the widget, connect it with other widgets and customize the user actions.

### Widget properties

These properties are present in the property pane of the widget. The following table lists all the widget properties.

|         Property         	| Data type 	|                                                                                                          Description                                                                                                          	|
|:------------------------:	|-----------	|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:	|
| **Series Title**             	| String    	| Sets the title of the current Chart series.                                                                                                                                                                                   	|
| **Series Color**             	| String    	| Sets the color of the current Chart series.                                                                                                                                                                                   	|
| **Series Data**              	| Array     	| Sets the data of the current Chart series.                                                                                                                                                                                    	|
| **Title**                    	| String    	| Sets the text that appears at the top of the chart as a title.                                                                                                                                                                	|
| **Chart Type**               	| String    	| Sets the type of Chart used to display data. Choose one of the charts from the available options, or create a custom chart (available from FusionCharts).                                                                     	|
| **Visible**                  	| Boolean   	| Controls widget's visibility on the page. When turned off: The widget won't be visible when the app is published. It appears translucent when in Edit mode.                                                                   	|
| **Animate Loading**          	| Boolean   	| When turned off, the widget loads without any skeletal animation. You can use a toggle switch to turn it on/off. You can also turn it off/on using javascript by enabling the JS label next to it.                            	|
| **Allow Scroll**             	| Boolean   	| Allows you to enable a scroll bar to scroll the contents of the chart.                                                                                                                                                        	|
| **x-axis Label**             	| String    	| Sets the text which appears as a label for the x-axis.                                                                                                                                                                        	|
| **y-axis Label**             	| String    	| Sets the text which appears as a label for the y-axis.                                                                                                                                                                        	|
| **x-axis Label Orientation** 	| String    	| Sets the size/rotation behavior for the x-axis label text. Chose from Auto, Slant, Rotate, or Stagger.                                                                                                                        	|
| **Adaptive Axis**            	| Boolean   	| Determines the scaling behavior of the y-axis. OFF: The y-axis begins at zero and spans to an upper limit based on the data points; ON: The y-axis starting and ending values are both determined based upon the data points. 	|


### Reference properties

These properties can be referenced in other widgets, queries, or JS functions using the dot operator. For instance, to get the xAxisName, you can use `Chart1.xAxisName`.


| Binding Property      | Description                                                                                                                                               |
| --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **isVisible**         | This property indicates whether the widget is visible or not.                                                                                      |
| **selectedDataPoint** | Contains an object which represents the data point that the user has most recently clicked `(object containing: x, y, seriesTitle)._ Default _undefined.` |
| **xAxisName**         | Stores the text of the x-axis Label setting of the chart.                                                                                    |
| **yAxisName**         | Stores the text of the y-axis Label setting of the chart.


### Style properties

| Style Property    | Description                                                                                                                                                                      |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Border Radius** | Rounds the corners of the widget's outer edge. With JS enabled, this accepts valid CSS [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) values. |
| **Box Shadow**    | Casts a drop shadow from the frame of the widget. With JS enabled, this accepts valid CSS [`box-shadow`](https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow) values.    |


### Events

These are functions that are called when event listeners are triggered in the widget. [Use actions](/reference/appsmith-framework/widget-actions) to execute tasks based on user events.


| Event                | Description                                                                                                                                                                                                                                                       |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **onDataPointClick** | Specifies an action to be performed when a user clicks on a data point in the chart. |


