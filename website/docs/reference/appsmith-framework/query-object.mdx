---
sidebar_position: 3
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# Query Object

The query object contains all the parameters required to run queries and access the data from the response. This page describes how to use the Query object.


## Properties

Query object has the following properties that you can use to reference and control data related to your query.

### run `function`

<dd>

When you call the `run()` function of a query, it executes the query. `run()` is an asynchronous function and it returns a promise. This asynchronous nature allows you to handle sequential asynchronous actions using `.then()` and `.catch()` methods or the `async/await` syntax.



```javascript
// Using promise syntax to chain actions in sequence
{{
    Query1.run(params)
        .then(() => {...}) // run after the query is successful
        .catch(() => {...}) // run if the query encounters any errors
}}
```
It can't be used in [synchronous fields](/core-concepts/writing-code/workflows#display-data-from-async-js-function).

#### Signature

<dd>

```
run(params: Object): Promise
```

#### Argument

#### params `object`

<dd>

It is an object containing key-value pairs to pass into the query. You can access params using the key name as shown below:

```
{{ this.params.KEY_NAME }}
```
</dd>
</dd>

#### Pass parameters to run() {#pass-parameters-to-run}

In certain scenarios, such as when [running a query inside a loop](/connect-data/how-to-guides/how-to-pass-params-to-an-api), it may be necessary to pass parameters to the query with values that are contextual to the execution. In such cases, you can utilize the `params` argument to pass an object consisting of key-value pairs into your query.

**Examples:**

<!-- You cannot indent these MDX tags or their content. It breaks the page. -->
<Tabs queryString="current-run-style">
<TabItem label="Promise chains" value="promise-chains">

```javascript
// function in the utils JS Object
getByIds: async (ids) => {
    const queries = ids.map(id => {
        return GetUserById.run({"id": id})
    })
    
    Promise.allSettled(queries)
        .then(queryResponses => queryResponses.map(res => res.value[0]))
        .then(records => storeValue("records", records))
}
```

</TabItem>
<TabItem label="async/await" value="async-await">

```javascript
// function in the utils JS Object
getByIds: async (ids) => {
    const queries = ids.map(id => {
        return GetUserById.run({"id": id})
    })
    
    const responses = await Promise.allSettled(queries)
    const records = await responses.map(promise => promise.value[0])
    await storeValue("records", records)
}
```

</TabItem>
</Tabs>

</dd>

### data `object`

<dd>

`data` is a read-only property that contains the response body from the last successful execution of this query. 

```
{{QUERY_NAME.data}}
```
If this property is referenced in a widget's property field, the query is automatically run on page load.

</dd>

### responseMeta `object`

<dd>

The `responseMeta` object contains details about the response, such as the status code, headers, and other relevant information related to the query's execution and the server's response.

```
{{QUERY_NAME.responseMeta}}
```

</dd>

### clear `object`

<dd>

This object clears all data from the query's `data` property.

``` 
{{QUERY_NAME.clear}}
```

</dd>


## Further reading

- [Creating Workflows](/core-concepts/writing-code/workflows#complex-workflows)
- [JS Objects](/core-concepts/writing-code/javascript-editor-beta)