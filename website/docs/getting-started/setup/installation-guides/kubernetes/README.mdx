---
description: Deploy Appsmith on a Kubernetes cluster
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Kubernetes

This page provides steps to install Appsmith on a Kubernetes cluster using the [Helm](https://helm.sh) package manager.

## Prerequisites
Before you install Appsmith, ensure the below prerequisites are installed:

1. [Helm Package Manager](https://helm.sh/docs/intro/install/) to install and manage applications on Kubernetes clusters.

2. [kubectl](https://kubernetes.io/vi/docs/tasks/tools/install-kubectl/) to manage resources on Kubernetes clusters.

3. Follow one of the below steps to configure the Kubernetes cluster.

<Tabs groupId="configurations">
 <TabItem label="AWS EKS" value="AWSEKS">

  1. Set up the Kubernetes cluster by [creating a kubeconfig for Amazon EKS](https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html).
  2. Ensure that you have a default storage class running. If not, [create default storage class](https://docs.aws.amazon.com/eks/latest/userguide/storage-classes.html)    
  3. The NGINX Ingress Controller is enabled by default. If not, [install NGINX Controller for AWS EKS](https://kubernetes.github.io/ingress-nginx/deploy/#network-load-balancer-nlb).
    Ensure that you enable the correct version for your cluster.

</TabItem>
<TabItem label="Minikube" value="Minikube">

  1. [Setup kubectl](https://minikube.sigs.k8s.io/docs/handbook/kubectl/)
  2. Ensure that you have a default storage class running. If not, [enable addon default-storage class](https://kubernetes.io/docs/tutorials/hello-minikube/#enable-addons)
  3. The NGINX Ingress Controller is enabled by default. If not, [set up Ingress on Minikube with the NGINX Ingress Controller](https://kubernetes.io/docs/tasks/access-application-cluster/ingress-minikube/).
  Ensure that you enable the correct version for your cluster.

</TabItem>
<TabItem label="Google Cloud Kubernetes" value="GoogleCloudKubernetes">

  1. [Configure cluster access for kubectl](https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-access-for-kubectl) on Google Cloud Kubernetes.
  2. Ensure that you have a default storage class running. If not, [set up a default storage class on Google Kubernetes Engine](https://cloud.google.com/anthos/clusters/docs/on-prem/1.3/how-to/default-storage-class)[GKE].
  3. The NGINX Ingress Controller is enabled by default. If not, [install ingress controller on Google Kubernetes Engine](https://kubernetes.github.io/ingress-nginx/deploy/#gce-gke)[GKE]. Ensure that you enable the correct version for your cluster.

</TabItem>
<TabItem label="Microk8s" value="Microk8s">

  1. Set up Kubernetes by below [working with kubectl](https://microk8s.io/docs/working-with-kubectl).
  2. Ensure that you have a default storage class running. If not, [enable storage class](https://microk8s.io/docs/command-reference#heading--microk8s-enable).
  3. The NGINX Ingress Controller is enabled by default. If not, [add on: Ingress](https://microk8s.io/docs/addon-ingress). Ensure that you enable the correct version for your cluster.
    
</TabItem>
</Tabs>

## Install Appsmith

Create a folder named `appsmith` on your machine for deployment and data storage. Then, navigate to this folder using the `cd` command and follow the steps below:

<Tabs groupId="appsmithEditions" queryString="currentTab">
  <TabItem label="Community Edition" value="communityEdition"> 

  1. To download the `values.yaml`, run the below `cURL` command:

      ```bash
        curl -L https://bit.ly/3ETEgPT -o "$PWD/values.yml"
      ```
  This command saves the file in the current directory.

  2. To add the Appsmith chart repository, run the below command:

   ```bash
   helm repo add appsmith https://helm.appsmith.com
   ```
   
3. To load the Appsmith chart repository, run the below command:

  ```bash
  helm repo update
  ```
4. Install Appsmith on your Kubernetes cluster using the Helm chart. Replace `<YOUR_NAMESPACE>` with the namespace you want to install Appsmith in:

  ```bash
  helm install appsmith appsmith/appsmith --namespace <YOUR_NAMESPACE>
  ```

When installing Appsmith using Helm, it automatically creates all the necessary Kubernetes objects to run the app on your clusters, such as pods, services, and ingresses with the default configuration. To customize the configuration, see [Configure Appsmith](/getting-started/setup/installation-guides/kubernetes/configure-appsmith) section.

5. Verify the status of the Appsmith installation by running the below command:

  ```bash
  kubectl -n <your-namespace> rollout status deployment <release-name>-appsmith
  ```
When the deployment is ready, a message that says the deployment of "appsmith" has been successfully rolled out is displayed.

6. Helm installation command outputs the URL that you can use to access Appsmith. Use the below command to retrieve the URL:

  ```bash 
  kubectl -n <your-namespace> get ingress <release-name>-appsmith
  ```
  The URL has the hostname and port on which Appsmith is available.

Congratulations, you have successfully installed Appsmith on your Kubernetes cluster using Helm. For configuring the Appsmith Helm chart, see the [Configure Appsmith](/getting-started/setup/installation-guides/kubernetes/configure-appsmith) section.
  
  </TabItem>
  <TabItem label="Business Edition" value="businessEdition"> 

:::note
To upgrade from Community Edition to Business Edition, follow the instructions available at [Upgrade to Business Edition for Kubernetes](/getting-started/setup/upgrade-to-business-edition/kubernetes).
:::

Follow the steps below to install Appsmith on your Kubernetes cluster:

1. Sign up on [customer.appsmith.com](https://customer.appsmith.com/) and generate a trial license key.

2. Add the Appsmith `appsmith-ee` chart repository with:

    ```bash
    helm repo add appsmith-ee https://helm-ee.appsmith.com
    ```
3. Load the Appsmith chart repository with:

    ```bash
    helm repo update
    ```
4. Generate the `values.yaml` config file:
    ```bash
    helm show values appsmith-ee/appsmith  > values.yaml
    ```

5. Run the below command to deploy Appsmith:

  ```bash
  helm install appsmith appsmith-ee/appsmith -f values.yaml
  ```
  When you run the install command, you may see output as shown below:

  ```
  NAME: appsmith
  LAST DEPLOYED: Mon Oct 24 13:24:07 2022
  NAMESPACE: <namespace>
  STATUS: deployed
  REVISION: 1
  TEST SUITE: None
  ```

  Once deployed run the below commands to verify the installation.

    1. To get the application URL run the below commands:
      
      ```
      export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=appsmith,app.kubernetes.io/instance=appsmith-2-1670479627" -o jsonpath="{.items[0].metadata.name}")
      export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath="{.spec.containers[0].ports[0].containerPort}")
      echo "Visit http://127.0.0.1:8080 to use your application"
      kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT
      ```

    2. Run the command `kubectl get pods` to verify the list of pods. You may see output as shown below:

      ```bash
      NAME                            READY   STATUS    RESTARTS   AGE
      appsmith-875b6cddc-4mmj6        1/1     Running   0          90s
      appsmith-875b6cddc-7b2hw        1/1     Running   0          3m30s
      appsmith-875b6cddc-smzwz        1/1     Running   0          3m15s
      appsmith-mongodb-0              1/1     Running   0          3m30s
      appsmith-mongodb-1              1/1     Running   0          3m10s
      appsmith-mongodb-arbiter-0      1/1     Running   0          3m30s
      appsmith-postgresql-0           1/1     Running   0          3m30s
      appsmith-redis-master-0         1/1     Running   0          3m30s
      appsmith-redis-replicas-0       1/1     Running   0          3m30s
      ```

6. Log into your Appsmith account, and enter your license key to activate the instance.


  </TabItem>
</Tabs>  

## Publish Appsmith online

To make your Appsmith installation accessible on the internet, you need an Ingress controller set up. For more information on Ingress controllers, see the [Configure Kubernetes Cluster](#configure-kubernetes-cluster) section. 

To install the Nginx ingress controller on AWS-EKS, GCE-GKE, or Azure, run the below command if it hasn't already been installed:

 ```bash 
  helm install ingress-nginx ingress-nginx/ingress-nginx
  ```
This command installs the Helm chart, enables the ingress controller, and publishes Appsmith on the internet.

  <Tabs groupId="appsmithEditions">

  <TabItem label="Community Edition" value="communityEdition"> 
  Enable the ingress controller through command or by modifying the `values.yaml` file.
  <details>
  <summary>Follow the steps below to configure using command</summary>
  Run the below command to enable ingress controller:

  ```bash
  helm upgrade appsmith/appsmith \
      --set ingress.enabled=true \
      --set ingress.className=nginx \
      --set service.type=ClusterIP \
  ```

  </details>

  <details id="usingValues">
  <summary>Follow the steps below to configure using `values.yaml`</summary>

  Open the `values.yaml` file and update the parameter values as below:

  ```yaml 
  ingress:
    ## @param ingress.enabled Enable ingress record generation for Ghost
    ##
    enabled: true
    ## @param ingress.annotations Additional custom annotations for the ingress record
    ## NOTE: If `ingress.certManager=true`, annotation `kubernetes.io/tls-acme: "true"` will automatically be added
    ##
    className: nginx
    hosts: []
      # - host: appsmith-domain.me
  service:
    ## @param service.type Kubernetes Service type
    ##
    type: ClusterIP
  ```

  Once the parameter values are modified, run the below command:

  ```bash 
  helm upgrade --values values.yaml appsmith appsmith/appsmith
  ```

  </details>

 </TabItem>
 <TabItem label="Business Edition" value="businessEdition">

   Enable the ingress controller through command or by modifying the `values.yaml` file.

  <details id="usingCommand">
  <summary>Follow the steps below to configure using command</summary>
  Run the below command to enable ingress controller:

  ```bash
  helm upgrade appsmith-ee/appsmith \
      --set ingress.enabled=true \
      --set ingress.className=nginx \
      --set service.type=ClusterIP \
  ```

   </details>
   <details id="usingValues">
  <summary>Follow the steps below to configure using `values.yaml`</summary>
  
  Open the `values.yaml` file and update the parameter values as below:

  ```yaml 
  ingress:
    ## @param ingress.enabled Enable ingress record generation for Ghost
    ##
    enabled: true
    ## @param ingress.annotations Additional custom annotations for the ingress record
    ## NOTE: If `ingress.certManager=true`, annotation `kubernetes.io/tls-acme: "true"` will automatically be added
    ##
    className: nginx
    hosts: []
      # - host: appsmith-domain.me
  service:
    ## @param service.type Kubernetes Service type
    ##
    type: ClusterIP
  ```
    
Once the parameter values are modified, run the below command:

  ```bash 
  helm upgrade --values values.yaml appsmith appsmith-ee/appsmith
  ```
    
  </details>

</TabItem>
</Tabs>
  

* It takes a few minutes for the ingress to get a public IP assigned. Once it has been assigned, you should see an IPv4 address or a domain name in the `ADDRESS` column. Run the below command to get this address:

  ```bash
  kubectl get ingress
  ```
  The command generates the output as shown below:

  ```bash
  NAME       CLASS   HOSTS   ADDRESS                                                                    PORTS   AGE
  appsmith   nginx   *       a918d94876c27453ea78d2883539bb36-1165345706.ap-south-1.elb.amazonaws.com   80      25h
  ```

## Troubleshooting

Some common errors that you may face during installation:
* [Ports unavailable](/help-and-support/troubleshooting-guide/deployment-errors#ports-unavailable)
* [Containers failed to restart](/help-and-support/troubleshooting-guide/deployment-errors#containers-failed-to-start)
* [Unable to access Appsmith](/help-and-support/troubleshooting-guide/deployment-errors#unable-to-access-appsmith) 

If you continue to face issues, reach out to the [support team](mailto:support@appsmith.com).

## Further reading

* [Configure your Instance](/getting-started/setup/instance-configuration/#configuring-kubernetes-installations)
* [Manage your Appsmith instance](/getting-started/setup/instance-management/)
